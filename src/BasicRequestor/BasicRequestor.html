<!DOCTYPE html>
<!--
    Copyright 2016 Solace Systems, Inc. All rights reserved.

    http://www.solacesystems.com

    This source is distributed under the terms and conditions of
    any contract or license agreement between Solace Systems, Inc.
    ("Solace") and you or your company. If there are no licenses or
    contracts in place use of this source is not authorized. This
    source is provided as is and is not supported by Solace unless
    such support is provided for under an agreement signed between
    you and Solace.
-->

<!--
    Solace Systems Web Messaging API for JavaScript
    RequestReply tutorial - Basic Requestor
    Demonstrates sending a request and receiving a reply
-->

<html lang="en">
    <head>
        <title>Solace Systems Web Messaging API for JavaScript, RequestReply tutorial - Basic Requestor</title>
        <meta charset="utf-8"/>

        <!-- Load Solace Systems Web Messaging API for JavaScript -->
        <script src="lib/solclient-debug.js"></script>

        <!-- Load the RequestReply Basic Requestor tutorial -->
        <script src="BasicRequestor.js"></script>

        <!-- Execute the RequestReply Basic Requestor tutorial -->
        <script>
            window.onload = function () {
                // enable logging to JavaScript console at INFO level
                // NOTICE: works only with "lib/solclient-debug.js"
                var factoryProps = new solace.SolclientFactoryProperties();
                factoryProps.logLevel = solace.LogLevel.INFO;
                solace.SolclientFactory.init(factoryProps);
                // create the requestor, specifying name of the request topic
                var requestor = new BasicRequestor('tutorial/topic');
                // assign buttons to the requestor functions
                document.getElementById("connect").addEventListener("click", requestor.connect);
                document.getElementById("disconnect").addEventListener("click", requestor.disconnect);
                document.getElementById("request").addEventListener("click", requestor.request);
            };
        </script>
    </head>
    <body>
        <h1>Solace Systems Web Messaging API for JavaScript</h1>
        <h2>RequestReply Tutorial</h2>
        <h3>Basic Requestor</h3>
        <p>
            <label>Solace router web transport URL: </label><input type = "text" id = "host" value = "XXX.XXX.XXX.XXX:80" />
            <button id="connect">Connect</button>
            <button id="disconnect">Disconnect</button>
        </p>
        <p>
            <button id="request">Send Request</button>
        </p>
        <textarea id="log" rows="20" cols="90" autofocus></textarea>
        <hr/>
        <p>Copyright &copy; 2016 Solace Systems Inc., All rights reserved.
            <span class="bar"> | </span>
            <a href="http://dev.solacesystems.com/">dev.solacesystems.com</a>
        <p>
    </body>
</html>

